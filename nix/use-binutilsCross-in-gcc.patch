From 47ed8a3a75ce5c5b1b4d79ce83fbb54b7b0f4a75 Mon Sep 17 00:00:00 2001
From: Infinidoge <infinidoge@doge-inc.net>
Date: Mon, 6 Feb 2023 16:35:07 -0500
Subject: [PATCH] use binutilsCross in gcc

---
 pkgs/development/compilers/gcc/5/default.nix | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/pkgs/development/compilers/gcc/5/default.nix b/pkgs/development/compilers/gcc/5/default.nix
index 89a452166a1..adab1c60b0a 100644
--- a/pkgs/development/compilers/gcc/5/default.nix
+++ b/pkgs/development/compilers/gcc/5/default.nix
@@ -164,7 +164,9 @@ let version = "5.4.0";
           " --disable-libquadmath" +
           " --disable-shared" +
           " --disable-libatomic " +  # libatomic requires libc
-          " --disable-decimal-float" # libdecnumber requires libc
+          " --disable-decimal-float" + # libdecnumber requires libc
+          " --with-as=${binutilsCross}/bin/${cross.config}-as" +
+          " --with-ld=${binutilsCross}/bin/${cross.config}-ld"
           else
           (if crossDarwin then " --with-sysroot=${getLib libcCross}/share/sysroot"
            else                " --with-headers=${getDev libcCross}/include") +
-- 
2.38.1

